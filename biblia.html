<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Vida Abundante</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- FUENTES -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Lobster&display=swap" rel="stylesheet">

  <style>
    /* ================= BASE ================= */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      color: #000;
    }

    body.oscuro {
      background: #121212;
      color: #e0e0e0;
    }

    button {
      border-radius: 999px;
      padding: 10px 16px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      background: #f2f2f2;
      transition: .2s;
    }

    button:hover {
      background: #4f6fa8;
      color: #fff;
      transform: scale(1.05);
    }

    /* ================= HEADER ================= */
    #header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border-bottom: 1px solid #ddd;
      background: #fff;
    }

    body.oscuro #header {
      background: #121212;
      border-color: #333;
    }

    #menu {
      display: flex;
      gap: 6px;
    }

    .nav-btn {
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 8px 14px;
      border-radius: 999px;
      font-weight: bold;
      background: #eaeaea;
    }

    body.oscuro .nav-btn {
      background: #2a2a2a;
      color: #fff;
    }

    @media (max-width: 640px) {
      .nav-btn .text { display: none; }
    }

    /* ================= SECCIONES ================= */
    .seccion {
      padding: 15px;
    }

    /* ================= BIBLIA ================= */
    .filtros {
      display: flex;
      gap: 8px;
      margin-bottom: 10px;
    }

    .versiculo {
      padding: 10px 14px;
      border-radius: 8px;
      margin-bottom: 6px;
      cursor: pointer;
    }

    .versiculo.imagen {
      background: #4f6fa8;
      color: #fff;
    }

    /* ================= BARRA ACCIONES ================= */
    .barra-acciones {
      position: sticky;
      bottom: 0;
      display: flex;
      gap: 6px;
      padding: 8px;
      background: #f5f5f5;
      border-top: 1px solid #ddd;
      z-index: 20;
    }

    body.oscuro .barra-acciones {
      background: #1e1e1e;
      border-color: #333;
    }

    .modo-imagen .accion-normal {
      display: none;
    }

    #btnCrearImagen {
      display: none;
    }

    .modo-imagen #btnCrearImagen {
      display: inline-block;
      background: #4f6fa8;
      color: #fff;
    }

    /* ================= MODAL PERSONALIZAR ================= */
    #modalPersonalizar {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
    }

    #modalPersonalizar .box {
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      width: 90%;
      max-width: 420px;
      text-align: center;
    }

    /* PREVIEW */
    #previewImagen {
      width: 100%;
      height: 420px;
      border-radius: 16px;
      background-size: cover;
      background-position: center;
      position: relative;
      overflow: hidden;
      margin-bottom: 12px;
    }

    #previewTextoWrapper {
      position: absolute;
      inset: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    #previewTextoBack {
      position: absolute;
      font-weight: bold;
      -webkit-text-stroke: 6px currentColor;
    }

    #previewTexto {
      position: relative;
      font-weight: bold;
    }

    /* OPCIONES */
    .panel-opciones {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      margin-top: 10px;
    }

    .text-tools {
      grid-column: span 2;
      display: flex;
      justify-content: center;
      gap: 6px;
    }
  </style>
</head>

<body>

<!-- HEADER -->
<div id="header">
  <div id="menu">
    <button class="nav-btn" onclick="irA('biblia')">üìñ <span class="text">Biblia</span></button>
    <button class="nav-btn" onclick="irA('panel')">üë§ <span class="text">Mi Panel</span></button>
  </div>
  <button onclick="toggleTema()">üåô</button>
</div>

<!-- BIBLIA -->
<div id="seccion-biblia" class="seccion">
  <div class="filtros">
    <select id="libro"></select>
    <select id="capitulo"></select>
  </div>

  <h3 id="titulo"></h3>
  <div id="texto"></div>

  <div id="accionesBiblia" class="barra-acciones">
    <button class="accion-normal" onclick="capituloAnterior()">‚Äπ</button>
    <button class="accion-normal" onclick="capituloSiguiente()">‚Ä∫</button>
    <button id="btnImagen" onclick="toggleModoImagen()">üñºÔ∏è</button>
    <button id="btnCrearImagen" onclick="generarImagen()">Crear Imagen</button>
  </div>
</div>

<!-- MODAL PERSONALIZAR -->
<div id="modalPersonalizar">
  <div class="box">
    <h3>‚öôÔ∏è Personalizar Imagen</h3>

    <div id="previewImagen">
      <div id="previewTextoWrapper">
        <div id="previewTextoBack"></div>
        <div id="previewTexto"></div>
      </div>
    </div>

    <div class="panel-opciones">
      <select id="personalizarFuente"></select>
      <input type="range" id="personalizarTama√±o" min="16" max="64">
      <input type="color" id="personalizarColor">
      <input type="range" id="personalizarOpacidad" min="0" max="1" step="0.05">

      <div class="text-tools">
        <button onclick="toggleUpper()">Aa</button>
        <button onclick="toggleBold()">B</button>
        <button onclick="toggleItalic()">I</button>
        <button onclick="toggleUnderline()">U</button>
      </div>
    </div>

    <br>
    <button id="btnGenerarPersonalizada">‚úÖ Generar</button>
    <button onclick="cancelarCrearImagen()">‚ùå Cancelar</button>
  </div>
</div>

<script type="module" src="biblia.js"></script>
</body>
</html>
